<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üì∏Áõ∏ÂÜåÈõÜ</title>
  <style>
  /* === Rose‚ÄìCream palette (your swatch) === */
  :root{
    --rose-0:#FFFFFF;
    --rose-1:#FEEAEA;
    --rose-2:#FFD4D4;
    --rose-3:#FFADAD;
    --rose-4:#F77272;
    --rose-5:#F03030;
    --border: var(--rose-4);    /* single-color outer ring */
    --ink:#372223;
    --radius:14px;
    --pad:12px;
  }

  html,body{margin:0;padding:0;background:transparent;overflow:hidden}
  .notion-widget-root{
    font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
    display:flex;align-items:center;justify-content:center;background:transparent
  }

  /* === Single-color border + inside-only blend === */
  .frame{
        position:relative;
        display:grid;
        grid-template-rows:auto 1fr;
        row-gap:8px;
        max-width:95vw;
        padding:12px;

        /* solid single-tone border */
        border:7px solid #fc7667;
        border-radius:14px;

        /* soft diagonal blend inside */
        background:
          linear-gradient(315deg, #FFADAD 0%, #FFD4D4 45%, #FEEAEA 80%, #FFFFFF 100%)
          padding-box;


        box-shadow:
          0 8px 22px rgba(0,0,0,.25),
          inset 0 0 8px rgba(255,255,255,.1);
      }

  .frame-title{
    color:var(--ink);font-size:20px;font-weight:700;margin:2px 6px;text-align:left;
    text-shadow:0 1px 0 rgba(255,255,255,.65)
  }

  /* keep your slider/vignette so photos pop */
  .slider{
    position:relative;width:min(100vw - 56px,980px);height:min(80vh,720px);
    background:#000;border-radius:calc(var(--radius) - 4px);overflow:hidden;transition:opacity .25s;
    box-shadow:inset 0 0 70px rgba(0,0,0,.35), inset 0 -70px 110px rgba(0,0,0,.28);
  }
  .slide{position:absolute;inset:0;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .45s ease-in-out}
  .slide.current{opacity:1}
  .slide img{width:100%;height:100%;object-fit:contain;user-select:none;-webkit-user-drag:none}

  /* Controls styled to match, but neutral enough to stay low-key */
  .nav-btn{
    position:absolute;top:50%;transform:translateY(-50%);
    width:52px;height:52px;border-radius:50%;
    border:1.5px solid rgba(255,255,255,.9);
    background:rgba(0,0,0,.35);color:#fff;
    font-size:26px;line-height:48px;text-align:center;cursor:pointer;z-index:3;
    transition:background .2s,color .2s,transform .08s;box-shadow:0 4px 12px rgba(0,0,0,.22)
  }
  .nav-btn:hover{background:#fff;color:#111}
  .nav-btn:active{transform:translateY(-50%) scale(.97)}
  #prev{left:14px} #next{right:14px}

  .dots{
    position:absolute;top:12px;left:50%;transform:translateX(-50%);
    display:flex;gap:8px;background:rgba(255,255,255,.7);
    border:1px solid rgba(0,0,0,.08);border-radius:12px;padding:6px 10px;z-index:4;transition:opacity .25s;
    box-shadow:0 4px 10px rgba(0,0,0,.12)
  }
  .dot{
    width:10px;height:10px;border-radius:50%;cursor:pointer;border:1px solid rgba(0,0,0,.06);
    background:linear-gradient(180deg, var(--rose-2), var(--rose-1));
    transition:transform .12s,box-shadow .12s,background .12s
  }
  .dot.active{
    background:linear-gradient(180deg, var(--rose-4), var(--rose-3));
    box-shadow:0 0 0 2px rgba(255,255,255,.65), 0 0 10px rgba(247,114,114,.45);
    transform:scale(1.22)
  }

  .overlay{
    position:absolute;left:50%;bottom:14px;transform:translateX(-50%);
    display:grid;gap:10px;justify-items:center;z-index:4;width:calc(100% - 32px);
    pointer-events:none;transition:opacity .25s
  }

  .caption{
    max-width:90%;padding:10px 14px;font-size:18px;font-weight:700;text-align:center;
    color:#2a1d1f;
    background:linear-gradient(180deg, #fff, var(--rose-1));
    border:1px solid var(--rose-3);
    border-radius:12px;pointer-events:auto;box-shadow:0 6px 16px rgba(0,0,0,.14)
  }

  .center-buttons{display:flex;gap:10px;pointer-events:auto}
  .ctrl-btn{
    background:#fff;color:#2c2c2c;border:1px solid var(--rose-2);border-radius:10px;
    padding:8px 14px;font-size:16px;font-weight:700;cursor:pointer;
    transition:background .15s,border-color .15s,transform .05s,box-shadow .15s;
    box-shadow:0 3px 10px rgba(0,0,0,.10)
  }
  .ctrl-btn:hover{background:var(--rose-1);border-color:var(--rose-3)}
  .ctrl-btn:active{transform:scale(.98)}

  /* Fullscreen + autohide (same as your current) */
  .frame:fullscreen,.frame:-webkit-full-screen{width:100vw;height:100vh;max-width:100vw;max-height:100vh;padding:var(--pad);border-radius:0}
  .frame:fullscreen .slider,.frame:-webkit-full-screen .slider{width:100%;height:100%;border-radius:0}
  .frame:fullscreen .dots,.frame:-webkit-full-screen .dots{top:56px}
  .slider.playing.idle .overlay,
  .slider.playing.idle .nav-btn,
  .slider.playing.idle .dots{opacity:0;pointer-events:none}

  @media(max-width:768px){
    .slider{width:90vw;height:70vh}
    .caption{font-size:16px}.ctrl-btn{font-size:15px}.frame-title{font-size:18px}
  }
</style>

</head>
<body>
  <div class="notion-widget-root">
    <div class="frame" id="frame">
      <div class="frame-title">üì∏ÊâìÂç°Êé¢Â∫óÁÖßÁâá~</div>

      <div class="slider" id="slider" aria-live="polite">
        <div class="slide current"><img src="1.jpg" alt="Slide 1" data-caption="ÁâπËâ≤ÁéõÈõÖÁÇñÈîÖ"/></div>
        <div class="slide"><img src="2.jpg" alt="Slide 2" data-caption="Â¢®Ë•øÂì•Ëæ£Ê§íÁÑóËÇâ"/></div>
        <div class="slide"><img src="3.jpg" alt="Slide 3" data-caption="ÁÇñÊæ≥Ê¥≤ÁâõËÇâ taco"/></div>
        <div class="slide"><img src="4.jpg" alt="Slide 4" data-caption="È§êÂéÖ‰∏ÄËßí~"/></div>

        <div id="prev" class="nav-btn">‚Üê</div>
        <div id="next" class="nav-btn">‚Üí</div>
        <div class="dots" id="dots"></div>

        <div class="overlay">
          <div class="caption" id="caption"></div>
          <div class="center-buttons">
            <button class="ctrl-btn" id="playpause">‚ñ∂Ô∏èÊí≠Êîæ (2s)</button>
            <button class="ctrl-btn" id="fullscreen">üî≤ÂÖ®Â±è</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
  (function(){
    const frame=document.getElementById('frame');
    const slider=document.getElementById('slider');
    const slides=[...slider.querySelectorAll('.slide')];
    const next=document.getElementById('next');
    const prev=document.getElementById('prev');
    const dotsWrap=document.getElementById('dots');
    const caption=document.getElementById('caption');
    const playBtn=document.getElementById('playpause');
    const fullBtn=document.getElementById('fullscreen');

    let auto=false,slideInterval=null,idleTimer=null;
    const interval=2000,IDLE_DELAY=3000;

    slides.forEach((_,i)=>{
      const d=document.createElement('div');
      d.className='dot'+(i===0?' active':'');
      d.dataset.index=i;
      d.onclick=()=>{goTo(i,false);userActivity()};
      dotsWrap.appendChild(d);
    });

    function current(){return slides.findIndex(s=>s.classList.contains('current'))}
    function setCaption(i){caption.textContent=slides[i].querySelector('img').dataset.caption||''}
    function setDot(i){dotsWrap.querySelectorAll('.dot').forEach((el,idx)=>el.classList.toggle('active',idx===i))}
    function goTo(i,restart){const cur=slider.querySelector('.current');if(cur)cur.classList.remove('current');slides[i].classList.add('current');setDot(i);setCaption(i);if(restart&&auto){stopAuto();startAuto();}}
    function nextSlide(){goTo((current()+1)%slides.length,false)}
    function prevSlide(){goTo((current()-1+slides.length)%slides.length,false)}

    function startIdle(){clearTimeout(idleTimer);slider.classList.remove('idle');idleTimer=setTimeout(()=>{if(auto)slider.classList.add('idle')},IDLE_DELAY);}
    function startAuto(){if(!slideInterval)slideInterval=setInterval(nextSlide,interval);slider.classList.add('playing');startIdle()}
    function stopAuto(){clearInterval(slideInterval);slideInterval=null;slider.classList.remove('playing','idle');clearTimeout(idleTimer)}
    function toggleAuto(){auto=!auto;playBtn.textContent=auto?'‚è∏Ô∏èÊöÇÂÅú':'‚ñ∂Ô∏èÊí≠Êîæ (2s)';auto?startAuto():stopAuto()}
    function userActivity(){if(auto)startIdle()}

    playBtn.onclick=()=>{toggleAuto();userActivity()};
    next.onclick=()=>{nextSlide();if(auto){stopAuto();startAuto()}userActivity()};
    prev.onclick=()=>{prevSlide();if(auto){stopAuto();startAuto()}userActivity()};

    /* ---- Fullscreen with safe fallback ---- */
    fullBtn.onclick=()=>{
      const el=frame;
      try{
        if(el.requestFullscreen) el.requestFullscreen();
        else if(el.webkitRequestFullscreen) el.webkitRequestFullscreen();
        else if(el.msRequestFullscreen) el.msRequestFullscreen();
        else throw 'not-supported';
      }catch(e){
        // fallback: open new window view
        const win=window.open(window.location.href,'_blank');
        if(!win) alert('ÊµèËßàÂô®Êàñ Notion ÈòªÊ≠¢‰∫ÜÂÖ®Â±è„ÄÇËØ∑ÂÖÅËÆ∏ÂºπÂá∫Á™óÂè£„ÄÇ');
      }
      userActivity();
    };

    document.onvisibilitychange=()=>{if(document.hidden)stopAuto();else if(auto)startAuto();};
    window.onkeydown=e=>{
      if(e.key==='ArrowRight'){nextSlide();if(auto){stopAuto();startAuto()}}
      else if(e.key==='ArrowLeft'){prevSlide();if(auto){stopAuto();startAuto()}}
      else if(e.code==='Space'){e.preventDefault();toggleAuto()}
      userActivity();
    };

    let startX=null;
    slider.addEventListener('touchstart',e=>{if(e.touches.length===1)startX=e.touches[0].clientX;userActivity()},{passive:true});
    slider.addEventListener('touchend',e=>{
      if(startX===null)return;const dx=e.changedTouches[0].clientX-startX;
      if(Math.abs(dx)>40){dx<0?nextSlide():prevSlide();if(auto){stopAuto();startAuto()}}
      startX=null;userActivity();
    });
    ['mousemove','mousedown','mouseup','wheel','touchmove'].forEach(ev=>frame.addEventListener(ev,userActivity,{passive:true}));
    goTo(0,false);
  })();
  </script>
</body>
</html>
